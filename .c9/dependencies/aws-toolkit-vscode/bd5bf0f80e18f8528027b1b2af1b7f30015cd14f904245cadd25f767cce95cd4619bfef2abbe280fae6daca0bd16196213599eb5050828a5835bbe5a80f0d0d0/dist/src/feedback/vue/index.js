(()=>{"use strict";var x={744:(e,m)=>{var c;c={value:!0},m.Z=(h,E)=>{for(const[y,S]of E)h[y]=S;return h}}},k={};function p(e){var m=k[e];if(m!==void 0)return m.exports;var c=k[e]={exports:{}};return x[e](c,c.exports,p),c.exports}p.r=e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var _={};(()=>{p.r(_);const e=Vue,m={class:"container button-container",style:{"justify-content":"space-between"}},c=(0,e.createElementVNode)("h1",null,"Feedback for AWS Toolkit",-1),h={key:0,id:"error",style:{"margin-right":"10px"}},E={key:0,type:"submit",value:"Submitting...",disabled:""},y=["disabled"],S=(0,e.createElementVNode)("h3",{id:"sentiment-heading"},"How was your experience?",-1),O=(0,e.createElementVNode)("label",{for:"positive-sentiment"},null,-1),T=(0,e.createElementVNode)("label",{for:"negative-sentiment"},null,-1),F=(0,e.createElementVNode)("h3",{id:"feedback-heading"},"Feedback",-1),C={style:{"margin-bottom":"10px"}},D=(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("em",null,[(0,e.createTextVNode)("Feedback is "),(0,e.createElementVNode)("b",null,"anonymous"),(0,e.createTextVNode)(". If you need a reply, "),(0,e.createElementVNode)("a",{href:"https://github.com/aws/aws-toolkit-vscode/issues/new/choose"},"contact us on GitHub"),(0,e.createTextVNode)(".")])],-1);function M(n,t,i,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("div",m,[c,n.error!==""?((0,e.openBlock)(),(0,e.createElementBlock)("div",h,[(0,e.createElementVNode)("strong",null,(0,e.toDisplayString)(n.error),1)])):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",null,[n.isSubmitting?((0,e.openBlock)(),(0,e.createElementBlock)("input",E)):((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:"submit",onClick:t[0]||(t[0]=(...s)=>n.submitFeedback&&n.submitFeedback(...s)),disabled:n.comment.length>2e3,value:"Send"},null,8,y))])]),S,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"positive-sentiment",type:"radio",value:"Positive","onUpdate:modelValue":t[1]||(t[1]=s=>n.sentiment=s)},null,512),[[e.vModelRadio,n.sentiment]]),O,(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"negative-sentiment",type:"radio",value:"Negative","onUpdate:modelValue":t[2]||(t[2]=s=>n.sentiment=s)},null,512),[[e.vModelRadio,n.sentiment]]),T]),F,(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",C,[(0,e.createElementVNode)("div",{style:{float:"right","font-size":"smaller"},id:"remaining",class:(0,e.normalizeClass)(n.comment.length>2e3?"exceeds-max-length":"")},(0,e.toDisplayString)(2e3-n.comment.length)+" characters remaining ",3),D])]),(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%","margin-bottom":"10px"},rows:"10",cols:"90","onUpdate:modelValue":t[3]||(t[3]=s=>n.comment=s)},null,512),[[e.vModelText,n.comment]])])])}/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class b{static registerGlobalCommands(){const t=new Event("remount");window.addEventListener("message",i=>{const{command:o}=i.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(a=>this.removeListener(a)),window.dispatchEvent(t))})}static addListener(t){this.messageListeners.add(t),window.addEventListener("message",t)}static removeListener(t){this.messageListeners.delete(t),window.removeEventListener("message",t)}static sendRequest(t,i,o){const a=JSON.parse(JSON.stringify(o)),r=new Promise((s,v)=>{const d=w=>{const l=w.data;if(t===l.id)if(this.removeListener(d),window.clearTimeout(u),l.error===!0){const f=JSON.parse(l.data);v(new Error(f.message))}else l.event?(typeof o[0]!="function"&&v(new Error(`Expected frontend event handler to be a function: ${i}`)),s(this.registerEventHandler(i,o[0]))):s(l.data)},u=setTimeout(()=>{this.removeListener(d),v(new Error(`Timed out while waiting for response: id: ${t}, command: ${i}`))},3e5);this.addListener(d)});return vscode.postMessage({id:t,command:i,data:a}),r}static registerEventHandler(t,i){const o=a=>{const r=a.data;if(r.command===t){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${t}`);i(r.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(t,i)=>{var o;if(typeof i!="string"){console.warn(`Tried to index webview client with non-string property: ${String(i)}`);return}if(i==="init"){const r=(o=vscode.getState())!=null?o:{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const a=(this.counter++).toString();return(...r)=>this.sendRequest(a,i,r)}})}}b.counter=0,b.initialized=!1,b.messageListeners=new Set;/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const g=new Set;window.addEventListener("remount",()=>g.clear());const j={created(){var n,t,i,o,a;if(this.$data===void 0)return;const r=(n=vscode.getState())!=null?n:{};this.$options._count=((t=this.$options._count)!=null?t:0)+1;const s=(o=this.id)!=null?o:`${(i=this.name)!=null?i:`DEFAULT-${g.size}`}-${this.$options._count}`;if(this.$options._unid=s,g.has(s)){console.warn(`Component "${s}" already exists. State-saving functionality will be disabled.`);return}g.add(s);const v=(a=r[s])!=null?a:{};Object.keys(this.$data).forEach(d=>{var u;this.$data[d]=(u=v[d])!=null?u:this.$data[d]}),Object.keys(this.$data).forEach(d=>{this.$watch(d,u=>{var w,l;const f=(w=vscode.getState())!=null?w:{},J=Object.assign((l=f[s])!=null?l:{},{[d]:u!==void 0?JSON.parse(JSON.stringify(u)):void 0});vscode.setState(Object.assign(f,{[s]:J}))},{deep:!0})})}},B=b.create(),P=(0,e.defineComponent)({data(){return{comment:"",sentiment:"",isSubmitting:!1,error:""}},methods:{async submitFeedback(){this.error="",this.isSubmitting=!0,console.log("Submitting feedback...");const n=await B.submit({comment:this.comment,sentiment:this.sentiment});this.error=n!=null?n:"",this.isSubmitting=!1}},mixins:[j]});var z=p(744);const H=(0,z.Z)(P,[["render",M]]);/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const $=()=>(0,e.createApp)(H),L=$();L.mount("#vue-app"),window.addEventListener("remount",()=>{L.unmount(),$().mount("#vue-app")})})();var N=this;for(var V in _)N[V]=_[V];_.__esModule&&Object.defineProperty(N,"__esModule",{value:!0})})();

//# sourceMappingURL=index.js.map